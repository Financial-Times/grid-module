<!DOCTYPE html>
<html>
  <head>
    <!DOCTYPE html>
    <!--[if IE 7]> <html class="no-js o-useragent-ie7 lt-ie9 lt-ie8"> <![endif]-->
    <!--[if IE 8]> <html class="no-js o-useragent-ie8 lt-ie9"> <![endif]-->
    <!--[if gt IE 8]><!-->
    <html class="no-js">
    <!--<![endif]-->
    <head>
      <meta charset="utf-8" />
      <title>Always-responsive grid examples - FT.com</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel='stylesheet' href='css/grid-always-responsive.css' />
      <link rel='stylesheet' href='css/docs.css' />
    </head>
  </head>
  <body>
    <div class="header">
      <h1>
			
			
			
				Responsive
				
				
				
				
				<span>(<span class="mode"></span>)</span>
			
		</h1>
    </div>
    <div class="o-grid-row">
      <div data-o-grid-colspan="12" class="docs">
        <p><a href="index.html">Back to documentation</a>.</p>
      </div>
    </div>
    <div class="underlay">
      <div class="o-grid-row">
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
        <div data-o-grid-colspan="1" class="col">
          <div></div>
        </div>
      </div>
    </div>
    <div class="examples">
        
          <div class="o-grid-row">
            <div data-o-grid-colspan="0"><span class="dev-inner">0</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="1"><span class="dev-inner">1</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="2"><span class="dev-inner">2</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="3"><span class="dev-inner">3</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="4"><span class="dev-inner">4</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="5"><span class="dev-inner">5</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="6"><span class="dev-inner">6</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="7"><span class="dev-inner">7</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="8"><span class="dev-inner">8</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="9"><span class="dev-inner">9</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="10"><span class="dev-inner">10</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="11"><span class="dev-inner">11</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="12"><span class="dev-inner">12</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="0 S12 M11 L10 XL9"><span class="dev-inner">0 S12 M11 L10 XL9</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="1 S0 M12 L11 XL10"><span class="dev-inner">1 S0 M12 L11 XL10</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="2 S1 M0 L12 XL11"><span class="dev-inner">2 S1 M0 L12 XL11</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="3 S2 M1 L0 XL12"><span class="dev-inner">3 S2 M1 L0 XL12</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="4 S3 M2 L1 XL0"><span class="dev-inner">4 S3 M2 L1 XL0</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="5 S4 M3 L2 XL1"><span class="dev-inner">5 S4 M3 L2 XL1</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="6 S5 M4 L3 XL2"><span class="dev-inner">6 S5 M4 L3 XL2</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="7 S6 M5 L4 XL3"><span class="dev-inner">7 S6 M5 L4 XL3</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="8 S7 M6 L5 XL4"><span class="dev-inner">8 S7 M6 L5 XL4</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="9 S8 M7 L6 XL5"><span class="dev-inner">9 S8 M7 L6 XL5</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="10 S9 M8 L7 XL6"><span class="dev-inner">10 S9 M8 L7 XL6</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="11 S10 M9 L8 XL7"><span class="dev-inner">11 S10 M9 L8 XL7</span></div>
          </div>
          <div class="o-grid-row">
            <div data-o-grid-colspan="12 S11 M10 L9 XL8"><span class="dev-inner">12 S11 M10 L9 XL8</span></div>
          </div>
    </div>
    <script>
      var breakpoints = [600, 1000, 1400];


function getLayout () {
  return document.documentElement.offsetWidth < 600 ? 'S' :
      document.documentElement.offsetWidth < 1000 ? 'M' :
      document.documentElement.offsetWidth < 1400 ? 'L' : 'XL';
}

function getExpectedSpans (el) {
  var layout = getLayout();

  var rules = el.dataset.oGridColspan,
    spans;
  rules.replace(new RegExp('(?:^|\\\s)' + layout + '(\\\d{1,2})', 'g'), function ($0, $1) {
    spans = $1;
  });
  
  if (typeof spans == 'undefined') {
    rules.replace(/(?:^|\s)(\d{1,2})/g, function ($0, $1) {
      spans = $1;
    });
  }
  console.log(rules, 'spans' + spans);
  return spans;
}

function highlightNotExpectedWidth (el) {
  var expectedPercentage = getExpectedSpans(el) * 100/12,
    actualPercentage = el.offsetWidth * 100 / el.parentNode.offsetWidth;
  
  console.log(expectedPercentage, actualPercentage); 

  if (expectedPercentage - actualPercentage > 1 || expectedPercentage - actualPercentage < -1) {
    el.className += ' error';
  } else {
    el.className = el.className.replace(/\berror\b/, '');
  }
}

Array.prototype.forEach.call(document.querySelectorAll('[data-o-grid-colspan]'), highlightNotExpectedWidth);
    </script>
  </body>
  </html>